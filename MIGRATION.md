# Blog Migration Guide

This guide explains how to integrate Kosh blog into your portfolio repository using the Hugo/Jekyll model.

## Architecture Overview

```
kush-singh-26.github.io/          # Portfolio repo
├── index.html                     # Portfolio homepage
├── css/                           # Portfolio styles
├── js/                            # Portfolio scripts
├── .github/workflows/deploy.yml   # CI workflow
├── blogs-src/                     # Blog SOURCE
│   ├── kosh.yaml                  # Blog config
│   ├── content/                   # Markdown posts
│   │   ├── post-1.md
│   │   └── post-2.md
│   └── static/                    # Optional assets
└── blogs/                         # Blog OUTPUT (generated)
    ├── index.html
    ├── post-1.html
    ├── static/
    └── ...

github.com/Kush-Singh-26/kosh              # Kosh SSG tool (separate repo)
github.com/Kush-Singh-26/kosh-theme-blog   # Blog theme (separate repo)
```

---

## Step 1: Push Kosh to GitHub

This repository becomes the Kosh SSG tool:

```bash
# In this repo
git add .
git commit -m "Update module path for go install"
git remote add origin https://github.com/Kush-Singh-26/kosh.git
git push -u origin main
```

Users can now install Kosh with:
```bash
go install github.com/Kush-Singh-26/kosh/cmd/kosh@latest
```

---

## Step 2: Create Theme Repository

Create `kosh-theme-blog` repository:

```bash
# Create new directory
mkdir kosh-theme-blog
cd kosh-theme-blog
git init

# Copy theme from this project
cp -r /path/to/this/repo/themes/blog/* .

# Commit and push
git add .
git commit -m "Initial blog theme"
git branch -M main
git remote add origin https://github.com/Kush-Singh-26/kosh-theme-blog.git
git push -u origin main
```

---

## Step 3: Setup Portfolio Repository

### 3.1 Create blogs-src/ directory

```bash
mkdir -p blogs-src/content
```

### 3.2 Copy content from this project

```bash
# Copy markdown posts
cp -r /path/to/this/repo/content/* blogs-src/content/

# Copy static assets (if any)
cp -r /path/to/this/repo/static blogs-src/  # optional
```

### 3.3 Create kosh.yaml

Copy `blogs-src-kosh.yaml` to `blogs-src/kosh.yaml`:

```bash
cp blogs-src-kosh.yaml blogs-src/kosh.yaml
```

### 3.4 Setup CI workflow

```bash
mkdir -p .github/workflows
cp portfolio-deployment.yaml .github/workflows/deploy.yml
```

---

## Step 4: Configure GitHub Pages

1. Go to repository Settings → Pages
2. Set Source to "GitHub Actions"
3. Push to `main` branch

---

## Step 5: Add Portfolio Navigation

Add a link to your blog in portfolio's navigation:

```html
<a href="/blogs/">Blog</a>
```

---

## Local Development

To build locally:

```bash
# Install Kosh
go install github.com/Kush-Singh-26/kosh/cmd/kosh@latest

# Clone theme
cd blogs-src
git clone https://github.com/Kush-Singh-26/kosh-theme-blog themes/blog

# Build
kosh build -baseurl http://localhost:8000/blogs

# Or use dev server
kosh serve --dev
```

---

## Files Reference

| File | Purpose |
|------|---------|
| `portfolio-deployment.yaml` | CI workflow for portfolio repo |
| `blogs-src-kosh.yaml` | Kosh config for blogs-src/ |
| `MIGRATION.md` | This guide |

---

## Directory Structure Summary

### This Repo (Kosh SSG)
- Purpose: Static site generator tool
- Install: `go install github.com/Kush-Singh-26/kosh/cmd/kosh@latest`

### kosh-theme-blog Repo
- Purpose: Blog theme templates and assets
- Cloned by CI into `blogs-src/themes/blog/`

### Portfolio Repo
- `blogs-src/`: Blog source (markdown, config)
- `blogs/`: Generated output (auto-generated by CI)
- `.github/workflows/deploy.yml`: Deployment workflow